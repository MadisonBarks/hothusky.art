<!DOCTYPE html>
<html>
    <head>
        <!-- Primary Meta Tags -->
        <title>Bark Bark</title>
        <meta name="title" content="Bark Bark">
        <meta name="description" content="The image gallery of a certain good-lookin husky. ">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://hothusky.art">
        <meta property="og:title" content="Bark Bark">
        <meta property="og:description" content="The image gallery of a certain good-lookin husky. ">
        <meta property="og:image" content="https://cdn.hothusky.art/CajunFoxNight_Madi_Pride_Icon.jpg">

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image">
        <meta property="twitter:url" content="https://hothusky.art">
        <meta property="twitter:title" content="Bark Bark">
        <meta property="twitter:description" content="The image gallery of a certain good-lookin husky. ">
        <meta property="twitter:image" content="https://cdn.hothusky.art/CajunFoxNight_Madi_Pride_Icon.jpg">

        <link rel="stylesheet" href="bark.css">
    </head>
    <body>
        <div class="container art">
            <h2>Just a good-lookin husky. Enjoy.</h2>
            <div>
                <div class="artwork-grid grid-200" id="art">

                </div>
            </div>
        </div>
        <script>
            // let artworkTemplate = Handlebars.compile(document.getElementById("artwork-template").innerHTML);

            function createArtworkElement(context) {
                let div = document.createElement("div");
                div.classList.add("artwork");
                
                let img = document.createElement("img");
                img.src = context.imageURL;

                let artistLink = document.createElement("a");
                artistLink.href = context.artistURL;
                artistLink.innerText = context.artistName;

                let paragraph = document.createElement("span");
                paragraph.innerText = "ðŸŽ¨: "
                paragraph.appendChild(artistLink);

                div.appendChild(img);
                div.appendChild(paragraph);

                return div;
                // return img;
            }

            fetch("images.json")
            .then(response => response.json())
            .then(data => {
                let images = data.images;
                let artists = data.artists;
                images.forEach(image => {
                    let context = {};
                    context['imageURL'] = 'https://cdn.hothusky.art/' + image.url;
                    context['artistName'] = image.artist;
                    context['artistURL'] = artists[image.artist];
                    document.getElementById("art").append(createArtworkElement(context))
                });
            })
        </script>
    </body>
</html>